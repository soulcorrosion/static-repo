window.__longTasksTracker__={track:function(){if(window.PerformanceObserver){var t=function(t){this.longTasks=this.longTasks.concat(t.getEntries())};new window.PerformanceObserver(t.bind(this)).observe({entryTypes:["longtask"]})}},longTasks:[]},window.__longTasksTracker__.track(),function(){var t="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,n="function"==typeof Object.defineProperties?Object.defineProperty:function(t,n,e){t!=Array.prototype&&t!=Object.prototype&&(t[n]=e.value)};function e(){e=function(){},t.Symbol||(t.Symbol=r)}var i=0;function r(t){return"jscomp_symbol_"+(t||"")+i++}function o(){e();var i=t.Symbol.iterator;i||(i=t.Symbol.iterator=t.Symbol("iterator")),"function"!=typeof Array.prototype[i]&&n(Array.prototype,i,{configurable:!0,writable:!0,value:function(){return a(this)}}),o=function(){}}function a(n){var e,i=0;return e=function(){return i<n.length?{done:!1,value:n[i++]}:{done:!0}},o(),(e={next:e})[t.Symbol.iterator]=function(){return this},e}function s(t){o();var n=t[Symbol.iterator];return n?n.call(t):a(t)}function u(t){if(!(t instanceof Array)){t=s(t);for(var n,e=[];!(n=t.next()).done;)e.push(n.value);t=e}return t}var l=0,c="img script iframe link audio video source".split(" ");function f(t,n){t=s(t);for(var e=t.next();!e.done;e=t.next())if(e=e.value,n.includes(e.nodeName.toLowerCase())||f(e.children,n))return!0;return!1}function d(t,n){if(2<t.length)return performance.now();var e=[];n=s(n);for(var i=n.next();!i.done;i=n.next())e.push({timestamp:(i=i.value).start,type:"requestStart"}),e.push({timestamp:i.end,type:"requestEnd"});for(i=(n=s(t)).next();!i.done;i=n.next())e.push({timestamp:i.value,type:"requestStart"});for(e.sort(function(t,n){return t.timestamp-n.timestamp}),t=t.length,n=e.length-1;0<=n;n--)switch((i=e[n]).type){case"requestStart":t--;break;case"requestEnd":if(2<++t)return i.timestamp;break;default:throw Error("Internal Error: This should never happen")}return 0}function h(t){t=t||{},this.w=!!t.useMutationObserver,this.u=t.minValue||null,t=window.__tti&&window.__tti.e;var n,e,i,r,o,a,h,p,y,m,g=window.__tti&&window.__tti.o;this.a=t?t.map(function(t){return{start:t.startTime,end:t.startTime+t.duration}}):[],g&&g.disconnect(),this.b=[],this.f=new Map,this.j=null,this.v=-1/0,this.i=!1,this.h=this.c=this.s=null,n=this.m.bind(this),e=this.l.bind(this),i=XMLHttpRequest.prototype.send,r=l++,XMLHttpRequest.prototype.send=function(t){for(var o=[],a=0;a<arguments.length;++a)o[a-0]=arguments[a];var s=this;return n(r),this.addEventListener("readystatechange",function(){4===s.readyState&&e(r)}),i.apply(this,o)},o=this.m.bind(this),a=this.l.bind(this),h=fetch,fetch=function(t){for(var n=[],e=0;e<arguments.length;++e)n[e-0]=arguments[e];return new Promise(function(t,e){var i=l++;o(i),h.apply(null,[].concat(u(n))).then(function(n){a(i),t(n)},function(t){a(t),e(t)})})},m=this,m.c=new PerformanceObserver(function(t){t=s(t.getEntries());for(var n=t.next();!n.done;n=t.next())if("resource"===(n=n.value).entryType&&(m.b.push({start:n.fetchStart,end:n.responseEnd}),v(m,d(m.g,m.b)+5e3)),"longtask"===n.entryType){var e=n.startTime+n.duration;m.a.push({start:n.startTime,end:e}),v(m,e+5e3)}}),m.c.observe({entryTypes:["longtask","resource"]}),this.w&&(this.h=(p=this.B.bind(this),(y=new MutationObserver(function(t){t=s(t);for(var n=t.next();!n.done;n=t.next())"childList"==(n=n.value).type&&f(n.addedNodes,c)?p(n):"attributes"==n.type&&c.includes(n.target.tagName.toLowerCase())&&p(n)})).observe(document,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["href","src"]}),y))}function p(t){t.i=!0;var n=0<t.a.length?t.a[t.a.length-1].end:0,e=d(t.g,t.b);v(t,Math.max(e+5e3,n))}function v(t,n){!t.i||t.v>n||(clearTimeout(t.j),t.j=setTimeout(function(){var n=performance.timing.navigationStart,e=d(t.g,t.b),n=(window.a&&window.a.A?1e3*window.a.A().C-n:0)||performance.timing.domContentLoadedEventEnd-n;if(t.u)var i=t.u;else i=performance.timing.domContentLoadedEventEnd?(i=performance.timing).domContentLoadedEventEnd-i.navigationStart:null;var r=performance.now();null===i&&v(t,Math.max(e+5e3,r+1e3));var o=t.a;(e=5e3>r-e?null:5e3>r-(e=o.length?o[o.length-1].end:n)?null:Math.max(e,i))&&(t.s(e),clearTimeout(t.j),t.i=!1,t.c&&t.c.disconnect(),t.h&&t.h.disconnect()),v(t,performance.now()+1e3)},n-performance.now()),t.v=n)}h.prototype.getFirstConsistentlyInteractive=function(){var t=this;return new Promise(function(n){t.s=n,"complete"==document.readyState?p(t):window.addEventListener("load",function(){p(t)})})},h.prototype.m=function(t){this.f.set(t,performance.now())},h.prototype.l=function(t){this.f.delete(t)},h.prototype.B=function(){v(this,performance.now()+5e3)},t.Object.defineProperties(h.prototype,{g:{configurable:!0,enumerable:!0,get:function(){return[].concat(u(this.f.values()))}}});var y={getFirstConsistentlyInteractive:function(t){return t=t||{},"PerformanceLongTaskTiming"in window?new h(t).getFirstConsistentlyInteractive():Promise.resolve(null)}};"undefined"!=typeof module&&module.exports?module.exports=y:"function"==typeof define&&define.amd?define("ttiPolyfill",[],function(){return y}):window.ttiPolyfill=y}();var ttiFunc=function(t){t.getFirstConsistentlyInteractive().then(function(t){if(window.Omnitracking&&"function"==typeof Omnitracking.track&&null!==t){var n=Math.round(t);Omnitracking.track({tid:1217,val:'{"tti":'+n+"}"}),null!=newrelic&&"function"==typeof newrelic.addPageAction&&newrelic.addPageAction("Time To Interactive",{value:n})}})};"function"==typeof require?require(["ttiPolyfill"],ttiFunc):window.ttiPolyfill&&ttiFunc(window.ttiPolyfill);